<!-- <pre>
    {{product|json}}
</pre> -->
<div appHighlight="#DEF" class="row" *ngIf="product.isAvailable">
    <div class="col-4">
        <img [src]="product.image" class="img-fluid" />
    </div>
    <div class="col-8">
        <div>{{product.name|uppercase}}</div>
        <div>{{product.price.value | discount | currency:product.price.code}}</div>
        <button (click)="handleBuy($event)" class="btn btn-dark">Buy</button>
    </div>
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a (click)="handleTabChange(1,$event)" [ngClass]="{'nav-link':true,'active':isTabSelected(1)}"
                href="#">Description</a>
        </li>
        <li class="nav-item">
            <a (click)="handleTabChange(2,$event)" [ngClass]="{'nav-link':true,'active':isTabSelected(2)}"
                href="#">Specification</a>
        </li>
        <li class="nav-item">
            <a (click)="handleTabChange(3,$event)" [ngClass]="{'nav-link':true,'active':isTabSelected(3)}" href="#">Reviews</a>
        </li>
    </ul>
    <div *ngIf="isTabSelected(1)">{{product.description}}</div>
    <div *ngIf="isTabSelected(2)">Not Yet</div>
    <div *ngIf="isTabSelected(3)">
        <app-review-form (reviewSubmitted)="handleNewReview($event)"></app-review-form>
        <div *ngFor="let review of reviews">
            <app-review [value]="review"></app-review>
        </div>
    </div>
</div>